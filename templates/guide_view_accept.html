<!-- 
<!DOCTYPE html>
<html> -->
{% extends "layout.html" %}

{% block head %}
 <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta charset="utf-8">
<link type = "text/css" rel="stylesheet" href="/static/css/style.css">
<script type="text/javascript" src="../static/js/jquery-1.11.1.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=places"></script>
<script type="text/javascript" src="../static/js/guide_view.js"></script>
{% endblock %}

{% block body %} 
<!-- <body>
 -->    <div id="map-canvas"></div>
    <div id="controls" class="enterLocation">
        <form id="locations" method='post'>
<!--             <input type="submit" value="Accept this voyage">
 -->        <input type="hidden" id="guide_current_lat" name="guide_current_lat">
            <input type="hidden" id="guide_current_long" name="guide_current_long">
            <div id="mapCanvas"></div>
        </form>
        </div>
<script>
//Accept voyage button
$(document).ready(function(){
  $("#accept_voyage").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/accept_voyage",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	$('#new-p').click(function()
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Cancel voyage button
$(document).ready(function(){
  $("#cancel_voyage").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/cancel_voyage",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	$('#new-p').click(function()
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Commence voyage button
$(document).ready(function(){
  $("#commence_voyage").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/commence_voyage",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	$('#new-p').click(function()
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Complete voyage button
$(document).ready(function(){
  $("#complete_voyage").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/complete_voyage",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	$('#new-p').click(function()
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Voyage confirmed icon
$(document).ready(function(){
  $("#voyage_confirmed").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/voyage_confirmed",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Voyage commenced icon
$(document).ready(function(){
  $("#voyage_commenced").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/voyage_commenced",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

//Voyage complete icon
$(document).ready(function(){
  $("#voyage_complete").click(function(){
   //alert("Accept voyage.");
   $.ajax({
   	"url":"/voyage_complete",
   	"type": "POST"
   }).done(function(res)
   {
   	//This runs when the call is successful
   	console.log("OK", res);
   	$('#under_map').html(res);
   	{
   		console.log("clicked on the new P");
   	});
   }).always(function(res)
   {
   	//This runs ALWAYS whether it fails or not
   	console.log("ALWAYS", res);
   }).fail(function(res)
   {
   	//This runs when the call fails as in 404 or Internal server error 500
   	console.log("BOOO", res);
   });
  });
});

</script>
<div id="under_map">
<p id="accept_voyage">Accept this voyage</p>
<p id="cancel_voyage">Cancel</p=>
<p id="commence_voyage">Commence voyage</p=>
<p id="complete_voyage">Complete voyage</p=>
<p id="voyage_confirmed">Voyage confirmed</p=>
<p id="voyage_commenced">Voyage commenced</p=>
<p id="voyage_complete">Voyage complete</p=>
</div>
<!-- </body>
 -->
<!-- </html>
 -->{% endblock %}